!function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(1),a=n(s),r=i(2),u=n(r),o=new u.default,l=new a.default(o);l.init()},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t){i(this,e),this.loader=t}return n(e,[{key:"init",value:function(){this.renderContainer(),this.renderFooter()}},{key:"renderContainer",value:function(){var e=document.createElement("div"),t=document.createElement("div"),i=document.createElement("div");e.setAttribute("id","container"),t.setAttribute("id","header-site"),i.setAttribute("id","results"),e.appendChild(t),e.appendChild(i),document.body.appendChild(e),this.renderForm()}},{key:"renderForm",value:function(){var e=document.createElement("form");e.setAttribute("id","search-form"),e.setAttribute("action","#"),document.getElementById("header-site").appendChild(e),this.renderIcon(),this.renderInput(),this.renderButton()}},{key:"renderIcon",value:function(){var e=this,t=document.createElement("img");t.setAttribute("src","./images/youtube.png"),t.setAttribute("id","youtube-icon"),document.getElementById("search-form").appendChild(t),t.addEventListener("click",function(){e.clearResults(),document.getElementById("search-input").value="",document.getElementById("results").style.left="0px"})}},{key:"renderInput",value:function(){var e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("id","search-input"),e.setAttribute("autofocus","true"),document.getElementById("search-form").appendChild(e)}},{key:"renderButton",value:function(){var e=this,t=document.createElement("button"),i=document.createElement("span");t.setAttribute("type","submit"),t.setAttribute("id","search-button"),i.setAttribute("id","search-icon"),t.appendChild(i),t.addEventListener("click",function(){e.startSearch()}),document.getElementById("search-form").appendChild(t)}},{key:"startSearch",value:function(){this.clearResults();var e=document.getElementById("search-input").value;e=e.trim(),e.length&&(document.getElementById("results").style.left="0px",this.loader.loadVideos(e))}},{key:"renderSlides",value:function(e){var t=this;this.clearResults(),e.forEach(function(e){t.renderSlide(e)})}},{key:"renderSlide",value:function(e){var t=this,i=document.createElement("div"),n=document.createElement("ul");i.setAttribute("class","slide"),n.setAttribute("class","videoList"),i.appendChild(n),document.getElementById("results").appendChild(i),i.style.left=e.id*document.documentElement.clientWidth+"px",e.posLeft=i.style.left,e.items.forEach(function(e){t.renderVideo(e,n)})}},{key:"renderVideo",value:function(e,t){var i=document.createElement("li");document.createElement("div"),document.createElement("div");this.renderTitle(i,e.title,e.hrefYouTube),this.renderImg(i,e.iframe,e.imgUrl),this.renderDate(i,e.date),this.renderChannel(i,e.channel),this.renderDescription(i,e.description),this.renderViewInfo(i,e.views,e.likes,e.dislikes,e.comments),t.appendChild(i)}},{key:"renderTitle",value:function(e,t,i){var n=document.createElement("div"),s=document.createElement("h3"),a=document.createElement("a");a.setAttribute("href",i),n.setAttribute("class","title-video"),s.innerHTML=t,a.appendChild(s),n.appendChild(a),e.appendChild(n)}},{key:"renderImg",value:function(e,t,i){var n=document.createElement("div"),s=document.createElement("img"),a=document.createElement("iframe"),r=document.createElement("div"),u=document.createElement("i");r.setAttribute("class","play-video"),u.setAttribute("class","fa fa-play"),r.appendChild(u),n.setAttribute("class","image-video"),a.setAttribute("src",t),s.setAttribute("src",i),n.appendChild(s),n.appendChild(r),this.pinIframeOnImg(s,r,a,n),e.appendChild(n)}},{key:"pinIframeOnImg",value:function(e,t,i,n){var s=this;t.addEventListener("click",function(a){s.renderIframe(i,n),e.style.display="none",i.style.display="flex",a.preventDefault(),t.style.display="none"})}},{key:"renderIframe",value:function(e,t){e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",""),t.appendChild(e)}},{key:"renderDate",value:function(e,t){this.renderItem(e,t,"fa fa-calendar")}},{key:"renderChannel",value:function(e,t){this.renderItem(e,t,"fa fa-user-circle-o")}},{key:"renderDescription",value:function(e,t){this.renderItem(e,t,"fa fa-pencil")}},{key:"renderItem",value:function(e,t,i){var n=document.createElement("div"),s=document.createElement("p"),a=document.createElement("i"),r=document.createElement("span");a.setAttribute("class",i),a.classList.add("icon-item"),r.innerHTML=t,r.setAttribute("class","text-item"),s.appendChild(a),s.appendChild(r),n.appendChild(s),n.setAttribute("class","item-div"),e.appendChild(n)}},{key:"renderViewInfo",value:function(e,t,i,n,s){var a=document.createElement("div"),r=document.createElement("ul");a.setAttribute("class","views-info"),this.renderViewItem(r,"fa fa-eye",t),this.renderViewItem(r,"fa fa-thumbs-o-up",i),this.renderViewItem(r,"fa fa-thumbs-o-down",n),this.renderViewItem(r,"fa fa-comment-o",s),a.appendChild(r),e.appendChild(a)}},{key:"renderViewItem",value:function(e,t,i){var n=document.createElement("li"),s=document.createElement("i"),a=document.createElement("p");s.setAttribute("class",t),n.appendChild(s),a.innerHTML=i?i:0,n.appendChild(a),e.appendChild(n)}},{key:"renderFooter",value:function(){var e=document.createElement("div"),t=document.createElement("ul");e.setAttribute("class","footer"),t.setAttribute("class","pagination"),e.appendChild(t),document.body.appendChild(e)}},{key:"clearFooter",value:function(){var e=document.querySelector(".pagination");e.innerHTML=""}},{key:"removeActivePage",value:function(){for(var e=document.querySelector(".pagination").children,t=0;t<e.length;t++)e[t].className=""}},{key:"makeActivePage",value:function(e){this.removeActivePage(),"number"!=typeof e?e.classList.add("active"):document.querySelector(".pagination").children[e].classList.add("active")}},{key:"addPageToFooter",value:function(e){var t=document.querySelector(".pagination");if(t.children.length<5){var i=document.createElement("li"),n=document.createElement("a");n.setAttribute("class","page"),n.innerHTML=e,i.appendChild(n),t.appendChild(i)}}},{key:"getActivePageId",value:function(){for(var e=document.querySelector(".pagination").children,t=0;t<e.length;t++)if("active"==e[t].className)return t}},{key:"changeValuesPages",value:function(e,t){this.clearFooter();for(var i=e;i<=t;i++)this.addPageToFooter(i)}},{key:"clearResults",value:function(){document.getElementById("results").innerHTML="",document.getElementById("search-input").focus(),this.clearFooter()}},{key:"isEmpty",value:function(){return!document.getElementById("results").innerHTML}}]),e}();t.default=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(3),u=n(r),o="AIzaSyAeSlcNwi1BcFtSx_LX6Yv3o-OozPJ5aLk",l=15,d=function(){function e(){s(this,e),this.nextPage="",this.value="",this.wasLoaded=!1}return a(e,[{key:"loadVideos",value:function(e){this.value=e,this.wasLoaded?(this.nextPage="",this.manager.clearSlides()):(this.manager=new u.default(this),this.wasLoaded=!0,this.manager.pinListeners()),this.getVideos()}},{key:"getVideos",value:function(){var e=this,t="https://www.googleapis.com/youtube/v3/search?pageToken=",i=t+(this.nextPage?this.nextPage:"")+"&part=snippet&maxResults="+l+"&q="+this.value+"&key="+o,n=void 0;fetch(i).then(function(e){return e.json()}).then(function(t){return e.nextPage=t.nextPageToken,n=t.items}).then(function(t){return t=e.formObjects(t),t.slice(1,t.length)}).then(function(t){e.pushStatistics(t)})}},{key:"formObjects",value:function(e){var t=this,i=[];return e.forEach(function(e){i.push(t.getVideoObject(e))}),i}},{key:"getVideoObject",value:function(e){return{hrefYouTube:"https://www.youtube.com/watch?v="+(e.id.videoId?e.id.videoId:""),iframe:"https://www.youtube.com/embed/"+(e.id.videoId?e.id.videoId:""),title:e.snippet.title,imgUrl:e.snippet.thumbnails.medium.url,channel:e.snippet.channelTitle,date:e.snippet.publishedAt.substring(0,10),views:0,likes:0,dislikes:0,comments:0,description:e.snippet.description,videoId:e.id.videoId?e.id.videoId:""}}},{key:"pushStatistics",value:function(e){var t=this,i="https://www.googleapis.com/youtube/v3/videos?part=statistics&id=";e.forEach(function(e){if(""!=e.videoId){var n=i+e.videoId+"&key="+o;fetch(n).then(function(e){return e.json()}).then(function(i){e.views=i.items[0].statistics.viewCount,e.likes=i.items[0].statistics.likeCount,e.dislikes=i.items[0].statistics.dislikeCount,e.comments=i.items[0].statistics.commentCount,t.manager.pushItem(e)}).catch(function(e){return console.log(e)})}})}}]),e}();t.default=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(1),u=n(r),o=i(4),l=n(o),d=i(5),c=n(d),h=i(6),f=function(){function e(t){s(this,e),this.loader=t,this.slides=[],this.maxItems=4,this.wasLeftSlide=!1,this.swipe=new l.default,this.layout=new u.default,this.buffer=[]}return a(e,[{key:"clearSlides",value:function(){this.animateTransition(!1),this.slides=[],this.buffer=[],this.layout.clearResults()}},{key:"pushItem",value:function(e){this.buffer.push(e),this.maxItems=(0,h.maxCountInScreen)(),this.buffer.length===this.maxItems&&(0===this.slides.length?this.slides.push(new c.default(this.buffer,0,"active")):this.slides.push(new c.default(this.buffer,this.slides[this.slides.length-1].id+1)),this.layout.renderSlide(this.lastSlide()),this.layout.addPageToFooter(this.countSlides()),1===this.countSlides()&&this.layout.makeActivePage(0),this.buffer=[])}},{key:"pushItems",value:function(e,t){for(var i=this,n=0;n<e.length;n++)e[n].items.forEach(function(e){i.pushItem(e)})}},{key:"lastSlide",value:function(){return this.slides[this.slides.length-1]}},{key:"noSlides",value:function(){return!this.slides.length}},{key:"countSlides",value:function(){return this.slides.length}},{key:"setActiveSLide",value:function(e){if(e&&e<this.countSlides()){for(var t=0;t<this.countSlides();t++)this.slides[t].setState("passive");this.slides[e].setState("active")}}},{key:"slideLeft",value:function(e){var t=this.getActiveSlideId();if(t){var i="number"==typeof e?e:t-1;this.slides[t].setState("passive"),this.slides[i].setState("active");var n=parseInt(this.slides[i].posLeft,10);this.animateTransition(!0),this.resetLeftSlide(),this.changePageFooter(i),this.setContainerPos(-n)}}},{key:"slideRight",value:function(e){var t=this.getActiveSlideId(),i="number"==typeof e?e:t+1;if(t!=this.slides.length-1){this.slides[t].setState("passive"),this.slides[i].setState("active");var n=parseInt(this.slides[i].posLeft,10);this.animateTransition(!0),this.resetLeftSlide(),this.changePageFooter(i),this.setContainerPos(-n)}this.preLoadVideos()}},{key:"changePageFooter",value:function(e){1==e?(this.layout.changeValuesPages(e,this.slides.length),this.layout.makeActivePage(e)):0==e?this.layout.makeActivePage(e):(this.layout.changeValuesPages(e-1,this.slides.length),this.layout.makeActivePage(2))}},{key:"preLoadVideos",value:function(){this.getActiveSlideId()>=this.slides.length-2&&this.loader.getVideos()}},{key:"setContainerPos",value:function(e){document.getElementById("results").style.left=e+"px"}},{key:"animateTransition",value:function(e){var t=document.getElementById("results");t.style.transition=e?"left 1.0s":"left .0s"}},{key:"getActiveSlideId",value:function(){for(var e=0;e<this.slides.length;e++)if(this.slides[e].isActive())return e}},{key:"backSlide",value:function(){var e=parseInt(this.slides[this.getActiveSlideId()].posLeft,10);this.animateTransition(!0),this.setContainerPos(-e)}},{key:"setLeftSlide",value:function(e){this.slides[e].items[0].left=!0,this.wasLeftSlide=!0}},{key:"resetLeftSlide",value:function(){if(this.wasLeftSlide){for(var e=0;e<this.countSlides();e++)this.slides[e].items.forEach(function(e){e.left&&(e.left=!1)});this.wasLeftSlide=!1}}},{key:"getLeftSlide",value:function(){for(var e=0;e<this.countSlides();e++)for(var t=0;t<this.slides[e].items.length;t++)if(this.slides[e].items[t].left)return e}},{key:"pinListeners",value:function(){this.pinSwipe(),this.pinTransitionPage(),this.pinResize()}},{key:"pinTransitionPage",value:function(){var e=this;document.querySelector(".pagination").addEventListener("click",function(t){if("page"==t.target.className){var i=e.getActiveSlideId(),n=parseInt(t.target.innerHTML,10)-1;n>i?e.slideRight(n):n<i&&e.slideLeft(n)}})}},{key:"pinResize",value:function(){var e=this;window.addEventListener("resize",function(){if(!e.layout.isEmpty()){var t=e.getActiveSlideId();if(e.wasLeftSlide){var i=e.slides;e.clearSlides(),e.pushItems(i),i=[];var n=e.getLeftSlide();e.setActiveSLide(n),e.setContainerPos(-n*document.documentElement.clientWidth),e.changePageFooter(n)}else e.setLeftSlide(t)}})}},{key:"pinSwipe",value:function(){this.pinMouseSwipe(),this.pinTouchSwipe()}},{key:"pinMouseSwipe",value:function(){var e=this;document.getElementById("results").addEventListener("mousedown",function(t){t.preventDefault(),e.swipe.mouseDown=!0,e.swipe.x=t.pageX}),document.getElementById("results").addEventListener("mousemove",function(t){if(e.swipe.mouseDown&&e.slides.length){var i=e.swipe.x-t.pageX,n=parseInt(e.slides[e.getActiveSlideId()].posLeft,10);e.animateTransition(!1),e.setContainerPos(-n-i)}}),document.addEventListener("mouseup",function(t){if(t.preventDefault(),e.swipe.mouseDown){var i=e.swipe.x-t.pageX;i<-150?e.slideLeft():e.backSlide(),i>150?e.slideRight():e.backSlide(),e.swipe.mouseDown=!1}})}},{key:"pinTouchSwipe",value:function(){var e=this;document.getElementById("results").addEventListener("touchstart",function(t){e.swipe.mouseDown=!0,e.swipe.x=t.changedTouches[0].clientX}),document.getElementById("results").addEventListener("touchmove",function(t){if(e.swipe.mouseDown&&e.slides.length){var i=e.swipe.x-t.changedTouches[0].clientX,n=parseInt(e.slides[e.getActiveSlideId()].posLeft,10);e.animateTransition(!1),e.setContainerPos(-n-i)}}),document.addEventListener("touchend",function(t){if(e.swipe.mouseDown){var i=e.swipe.x-t.changedTouches[0].clientX;i<-50?e.slideLeft():e.backSlide(),i>50?e.slideRight():e.backSlide(),e.swipe.mouseDown=!1}})}}]),e}();t.default=f},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function e(){i(this,e),this.mouseDown=!1,this.x=0};t.default=n},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t,n,s){i(this,e),this.items=Array.isArray(t)?t:[t],this.id=n||0,this.state=s||"passive"}return n(e,[{key:"addItem",value:function(e){this.items.push(e)}},{key:"setState",value:function(e){this.state=e}},{key:"isActive",value:function(){return"active"===this.state}}]),e}();t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=document.documentElement.clientWidth;switch(!0){case e<=800:return 1;case e<=1150:return 2;case e<=1600:return 3;case e<=1920:return 4;default:return 4}};t.maxCountInScreen=i}]);